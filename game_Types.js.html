<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: game/Types.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: game/Types.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*Copyright (C) 2019-2022 The Xanado Project https://github.com/cdot/Xanado
  License MIT. See README.md at the root of this distribution for full copyright
  and license information. Author Crawford Currie http://c-dot.co.uk*/
/* eslint-env amd */

define(() => {

  /**
   * See {@linkcode https://nodejs.org/api/http.html|http.ServerRequest}
   * @typedef {http.SereverRequest} Request
   */

  /**
   * See {@linkcode https://nodejs.org/api/http.html|http.ServerResponse}
   * @typedef {http.ServerResponse} Response
   */

  /**
   * A 16-character key that uniquely identifies a player or a game.
   * @typedef {string} Key
   */

  /**
   * Game states.
   * * WAITING - until enough players join the game
   * * PLAYING - until the game is over, then one of:
   * * GAME_OVER - game was played to end, or
   * * TWO_PASSES - all players passed twice, or
   * * FAILED_CHALLENGE - a challenge on the final play failed, or
   * * TIMED_OUT - game is too old, will be pruned
   * @typedef {WAITING|PLAYING|GAME_OVER|TWO_PASSES|FAILED_CHALLENGE|TIMED_OUT} State
   */
  const State = {
     WAITING:          /*i18n*/"Waiting for players",
    PLAYING:          /*i18n*/"Playing",
    GAME_OVER:        /*i18n*/"Game over",
    TWO_PASSES:       /*i18n*/"All players passed twice",
    FAILED_CHALLENGE: /*i18n*/"Challenge failed",
    TIMED_OUT:        /*i18n*/"Timed out"
  };
  
  /**
   * Commands that can be sent from the UI to the Server.
   * @typedef {UNPAUSE|PAUSE|CHALLENGE|PLAY|TAKE_BACK|PASS|GAME_OVER|SWAP} Command
   */
  const Command = {
    CHALLENGE:         "challenge",
    CONFIRM_GAME_OVER: "confirmGameOver",
    PASS:              "pass",
    PAUSE:             "pause",
    PLAY:              "play",
    REDO:              "redo",
    SWAP:              "swap",
    TAKE_BACK:         "takeBack",
    UNDO:              "undo",
    UNPAUSE:           "unpause"
  };

  /**
   * Notifications sent to game pages by the server.
   * * `CONNECTIONS`: list of the currently connected observers
   * * `MESSAGE`: someone has sent a message
   * * `NEXT_GAME`: a follow-on game is available
   * * `PAUSE`: someone paused the game
   * * `REJECT`: a move has been rejected (not found in dictionary)
   * * `TICK`: the game timer has ticked
   * * `TURN`: someone has made a move in the game
   * * `UNDONE`: the last play was undone
   * * `UNPAUSE`: someone has unpaused the game
   * Notifications only sent to games pages by the server
   * * `UPDATE`: a change has been made that requires a monitor update
   * Notifications sent by a game page
   * * `JOIN`: request to join (or observe) the game
   * Notifications sent by games pages (monitors)
   * * `MONITOR`: monitor wants to connect to the server
   * @typedef {UNPAUSE|PAUSE|JOIN|REJECT|MESSAGE|NEXT_GAME|TICK|TURN|CONNECTIONS|UPDATE|MONITOR} Notify
   */
  const Notify = {
    ANOTHER_GAME: "another game",
    CONNECTIONS:  "connections",
    JOIN:         "join game",
    MESSAGE:      "message",
    NEXT_GAME:    "next game",
    PAUSE:        "pause game",
    REJECT:       "reject play",
    TICK:         "tick timer",
    TURN:         "play turn",
    UNDONE:       "undone",
    UNPAUSE:      "unpause",

    /* Notifications sent to monitors (games pages) */
    UPDATE:       "update",
    MONITOR:      "monitor"
  };

  /**
   * Types of game timer
   * * NONE - game is untimed
   * * TURN - each turn is time-limited
   * * GAME - game is time limited, and a points penalty is applied for overtime
   * @typedef {NONE|TURN|GAME} Timer
   */
  const Timer = {
    NONE:  undefined,
    TURN:  /*i18n*/"Turn timer",
    GAME:  /*i18n*/"Game timer"
  };

  /**
   * Different types of penalty for a failed challenge.
   * * NONE - no penalty
   * * MISS - challenging player misses next turn
   * * PER_TURN - challenger loses a fixed number of points
   * * PER_WORD - challenger loses points for each wrongly challenged word
   * @typedef {NONE|MISS|PER_TURN|PER_WORD} Penalty
   */
  const Penalty = {
    NONE:     undefined,
    MISS:     /*i18n*/"Miss next turn",
    PER_TURN: /*i18n*/"Lose points",
    PER_WORD: /*i18n*/"Lose points per word"
  };

  /**
   * Different types of {@linkcode Turn}
   * * PLAY - some tiles were placed on the board
   * * SWAP - player swapped for fresh tiles from the bag
   * * GAME_OVER - game is over
   * * CHALLENGE_LOST - player challenged, and lost
   * * CHALLENGE_WON - player challenged, and won
   * * TOOK_BACK - player took back their play
   * * PASSED - player passed
   * * TIMED_OUT - player was timed out (if timer type is `TURN`)
   * @typedef {PLAY|SWAP|GAME_OVER|CHALLENGE_LOST|CHALLENGE_WON|TOOK_BACK|PASSED|TIMED_OUT} Turns
   */
  const Turns = {
    PLAYED:         "play",
    SWAPPED:        "swap",
    GAME_ENDED:     "game-over",
    CHALLENGE_LOST: "challenge-lost",
    CHALLENGE_WON:  "challenge-won",
    TOOK_BACK:      "took-back",
    PASSED:         "passed",
    TIMED_OUT:      "timed-out"
  };

  /**
   * Ways to check played words.
   * * NONE - don't check played words
   * * AFTER - report to player (only) if played words were in dictionary
   * * REJECT - refuse to accept words not in the dictionary. A bad play 
   *   in this case does not result in a penalty, it just won't accept
   *   the play.
   * @typedef {NONE|AFTER|REJECT} WordCheck
   */
  const WordCheck = {
    NONE:    undefined,
    AFTER:   /*i18n*/"Check words after play",
    REJECT:  /*i18n*/"Reject unknown words"
  };

  // ordered types for &lt;select> in UI
  Timer._types = [
    Timer.NONE, Timer.TURN, Timer.GAME
  ];

  Penalty._types = [
    Penalty.PER_WORD, Penalty.PER_TURN,
    Penalty.MISS, Penalty.NONE
  ];

  WordCheck._types = [
    WordCheck.NONE, WordCheck.AFTER, WordCheck.REJECT
  ];

  return {
    State: State,
    Command: Command,
    Notify: Notify,
    Timer: Timer,
    Penalty: Penalty,
    Turns: Turns,
    WordCheck: WordCheck
  };
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-compressor.html">compressor</a></li><li><a href="module-design_valett.html">design/valett</a></li><li><a href="module-explore.html">explore</a></li></ul><h3>Classes</h3><ul><li><a href="Board.html">Board</a></li><li><a href="BrowserPlatform.html">BrowserPlatform</a></li><li><a href="Database.html">Database</a></li><li><a href="Dialog.html">Dialog</a></li><li><a href="Dictionary.html">Dictionary</a></li><li><a href="Edition.html">Edition</a></li><li><a href="FileDatabase.html">FileDatabase</a></li><li><a href="Fridge.html">Fridge</a></li><li><a href="Game.html">Game</a></li><li><a href="GamesUI.html">GamesUI</a></li><li><a href="GameUI.html">GameUI</a></li><li><a href="LetterBag.html">LetterBag</a></li><li><a href="LetterNode.html">LetterNode</a></li><li><a href="Move.html">Move</a></li><li><a href="Platform.html">Platform</a></li><li><a href="Player.html">Player</a></li><li><a href="Rack.html">Rack</a></li><li><a href="Replay.html">Replay</a></li><li><a href="Server.html">Server</a></li><li><a href="ServerPlatform.html">ServerPlatform</a></li><li><a href="Square.html">Square</a></li><li><a href="Surface.html">Surface</a></li><li><a href="Tile.html">Tile</a></li><li><a href="Trie.html">Trie</a></li><li><a href="TrieNode.html">TrieNode</a></li><li><a href="Turn.html">Turn</a></li><li><a href="UI.html">UI</a></li><li><a href="UserManager.html">UserManager</a></li><li><a href="XanadoPass.html">XanadoPass</a></li></ul><h3>Mixins</h3><ul><li><a href="BrowserBoard.html">BrowserBoard</a></li><li><a href="BrowserGame.html">BrowserGame</a></li><li><a href="BrowserMove.html">BrowserMove</a></li><li><a href="BrowserPlayer.html">BrowserPlayer</a></li><li><a href="BrowserRack.html">BrowserRack</a></li><li><a href="BrowserSquare.html">BrowserSquare</a></li><li><a href="Commands.html">Commands</a></li><li><a href="ServerBoard.html">ServerBoard</a></li><li><a href="ServerGame.html">ServerGame</a></li><li><a href="Undo.html">Undo</a></li></ul><h3>Global</h3><ul><li><a href="global.html#game/findBestPlay">game/findBestPlay</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Tue Jul 26 2022 11:07:17 GMT+0000 (Coordinated Universal Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
